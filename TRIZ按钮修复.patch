diff --git a/js/script.js b/js/script.js
index 805a94e..64adb35 100644
--- a/js/script.js
+++ b/js/script.js
@@ -1056,7 +1056,7 @@ function handleSubmit(event) {
     showThinkingIndicator();
     
     // 检查模式选择
-    const isTrizMode = window.trizService?.isActive || false;
+    const isTrizMode = window.trizService?.isActive || deepSearchToggle.checked || false;
     const isStreamingMode = streamToggle.checked;
     const isThinkingMode = thinkToggle.checked;
     
diff --git a/js/trizMode.js b/js/trizMode.js
index 591bcce..163e90d 100644
--- a/js/trizMode.js
+++ b/js/trizMode.js
@@ -8,6 +8,9 @@ class TrizModeService {
     document.addEventListener('DOMContentLoaded', () => {
       this.initTrizButton();
       this.initSubmitButtonListener();
+      
+      // 检查deepSearchToggle状态，同步按钮状态
+      this.syncButtonState();
     });
     
     // TRIZ专利分析提示词
@@ -163,11 +166,23 @@ class TrizModeService {
       // 激活TRIZ模式
       this.isActive = true;
       trizBtn.classList.add('active');
+      
+      // 全局变量更新，确保与script.js中的handleSubmit函数兼容
+      if (window.deepSearchToggle) {
+        window.deepSearchToggle.checked = true;
+      }
+      
       console.log('TRIZ模式: 已开启，等待用户提交专利内容');
     } else {
       // 关闭TRIZ模式
       this.isActive = false;
       trizBtn.classList.remove('active');
+      
+      // 全局变量更新，确保与script.js中的handleSubmit函数兼容
+      if (window.deepSearchToggle) {
+        window.deepSearchToggle.checked = false;
+      }
+      
       console.log('TRIZ模式: 已关闭');
       // 清除TRIZ提示词
       this.clearTrizPrompt();
@@ -305,6 +320,25 @@ class TrizModeService {
     
     console.log('TRIZ按钮状态已刷新');
   }
+  
+  // 同步按钮状态和deepSearchToggle
+  syncButtonState() {
+    setTimeout(() => {
+      const trizBtn = document.querySelector('.search-btn');
+      if (!trizBtn) return;
+      
+      // 如果deepSearchToggle存在并且已选中，使按钮处于激活状态
+      if (window.deepSearchToggle && window.deepSearchToggle.checked) {
+        this.isActive = true;
+        trizBtn.classList.add('active');
+        console.log('初始化TRIZ按钮状态为激活');
+      } else {
+        this.isActive = false;
+        trizBtn.classList.remove('active');
+        console.log('初始化TRIZ按钮状态为未激活');
+      }
+    }, 500); // 稍微延迟，确保DOM和deepSearchToggle已初始化
+  }
 }
 
 // 创建TRIZ服务实例
diff --git a/push-to-github.ps1 b/push-to-github.ps1
index 7c8ebdb..6b3ebca 100644
--- a/push-to-github.ps1
+++ b/push-to-github.ps1
@@ -1,27 +1,15 @@
 # 自动推送代码到GitHub的PowerShell脚本
 
 # 设置代理
-$env:HTTP_PROXY="http://127.0.0.1:7890"
-$env:HTTPS_PROXY="http://127.0.0.1:7890"
+$env:HTTP_PROXY="socks5://127.0.0.1:7890"
+$env:HTTPS_PROXY="socks5://127.0.0.1:7890"
 
-# 获取当前日期时间作为提交信息
-$dateTime = Get-Date -Format "yyyy-MM-dd HH:mm:ss"
-$commitMessage = "自动提交: $dateTime"
+# 配置Git全局代理
+git config --global http.proxy socks5://127.0.0.1:7890
+git config --global https.proxy socks5://127.0.0.1:7890
 
-# 添加所有更改
-git add .
+# 推送到GitHub
+Write-Host "正在通过SOCKS5代理推送到GitHub..." -ForegroundColor Yellow
+git push origin main
 
-# 检查是否有需要提交的更改
-$status = git status --porcelain
-if ($status) {
-    # 提交更改
-    git commit -m $commitMessage
-    
-    # 推送到GitHub
-    Write-Host "正在通过代理推送到GitHub..." -ForegroundColor Yellow
-    git push origin main
-    
-    Write-Host "成功推送更改到GitHub！" -ForegroundColor Green
-} else {
-    Write-Host "没有需要提交的更改。" -ForegroundColor Yellow
-} 
\ No newline at end of file
+Write-Host "推送完成！" -ForegroundColor Green 
\ No newline at end of file
