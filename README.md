# Origin - 革新世界的原点

## 项目概述

Origin是一个精心设计的AI对话系统，融合了现代界面设计与高级交互功能。系统使用纯HTML、CSS和JavaScript开发，可部署在GitHub Pages等静态托管平台上，无需后端服务器即可实现用户认证与API调用。

## 核心功能

- **多模式对话**：支持标准对话、Think深度分析和DeepSearch搜索模式
- **文件处理**：支持上传PDF、Word和文本文件进行分析
- **用户认证**：纯前端实现的安全用户认证系统
- **API密钥加密**：加密存储API密钥，保护敏感信息
- **多模型支持**：集成了Deepseek R1、Deepseek Chat V3等多种AI模型
- **高级UI交互**：响应式设计、markdown渲染、代码高亮、思考过程可视化
- **上下文连续对话**：支持对话历史记忆，实现连贯的多轮交互体验

## 界面特点

- 纯黑色背景的极简主义设计
- 顶部导航栏，包含logo和操作按钮
- 中间聊天区域
- 底部输入框，包含多种操作选项
- Think和DeepSearch功能

## 技术实现

### 无后端认证系统

该项目使用纯前端技术实现了用户认证系统：

1. **用户凭据加密存储**：
   - 邮箱地址使用MD5哈希存储
   - 密码使用加盐MD5哈希存储
   - 用户名使用AES加密存储

2. **认证流程**：
   - 前端对输入的邮箱和密码计算哈希值
   - 与`users.json`中存储的哈希值比对
   - 匹配成功后生成用户令牌并存储在localStorage中

3. **令牌管理**：
   - 使用AES加密生成用户令牌
   - 令牌包含用户信息和时间戳
   - 检查令牌时验证是否过期

### API密钥加密存储

API密钥加密存储的实现方式：

1. **API配置加密**：
   - API密钥使用AES加密存储在`config.json`中
   - 加密密钥存储在前端代码中（注意：这提供有限安全性）
   - 实时解密API密钥以发送请求，不在localStorage中存储明文

2. **安全性措施**：
   - API密钥仅在运行时内存中解密
   - 使用闭包封装解密的API密钥，避免直接暴露
   - 所有API请求通过HTTPS发送

### Think深度分析模式

Think模式是本项目的特色功能，通过调用特定AI模型，可视化AI的思考过程：
- 实时展示思考逻辑和推理步骤
- 提供独立的思考界面，可复制结果或添加到主对话
- 支持显示/隐藏思考过程的灵活控制

#### Think模式后端扩展计划

Think深度分析模式目前以纯前端形式实现，后期将通过后端服务进行以下功能扩展：

##### 高级推理能力
- 多轮思考链（Chain-of-Thought）处理
- 自动验证思考过程中的逻辑错误
- 支持复杂数学公式和代码推理

##### 知识库集成
- 连接专业领域知识库，提供更准确的推理基础
- 自动引用来源和权威参考
- 支持用户自定义知识库

##### 计算与工具集成
- 集成计算引擎处理数学推理
- 代码执行环境验证编程思路
- 外部工具API集成（如数据分析、图表生成）

##### 持久化与协作
- 保存完整思考过程到后端数据库
- 支持团队协作与思考过程共享
- 标记和注释思考路径的功能

##### 性能优化
- 服务端并行处理复杂思考任务
- 缓存常见推理路径提高响应速度
- 大规模思考过程的高效存储与检索

这些后端扩展将使Origin的Think模式从单纯的前端展示功能升级为强大的深度分析引擎，为用户提供更专业、更高效的思维辅助工具。

### 文件处理能力

支持多种文件格式的上传和分析：
- PDF文件：使用pdf.js提取文本内容
- Word文档：使用mammoth.js解析DOCX文件
- 文本文件：直接读取内容并分析

### 会话管理

- 支持创建和切换多个对话会话
- 会话自动保存到本地存储
- 提供搜索、重命名和删除会话功能

## 安全性考虑

1. 所有敏感信息均经过加密或哈希处理后存储
2. 用户密码从不以明文方式传输或存储
3. API密钥不会在前端暴露给普通用户
4. 令牌具有时效性，过期后需要重新登录
5. 请注意，此方法适用于中低安全需求的个人项目或演示，不适合管理高度敏感数据

## 本地开发

克隆仓库后，可以直接在浏览器中打开`index.html`文件进行预览。

或者使用任意本地服务器：

```bash
# 使用Python启动简单的HTTP服务器
python -m http.server

# 或者使用Node.js的http-server (需要先安装: npm install -g http-server)
http-server
```

## 部署到GitHub Pages

1. Fork本仓库
2. 进入仓库的Settings > Pages
3. 在Source部分选择"GitHub Actions"
4. 自动触发workflow，部署完成后可通过`https://{username}.github.io/{repository-name}`访问

## API密钥配置

1. 访问`tool/apikey_encrypt.html`工具页面
2. 输入您的API密钥和相关配置
3. 生成加密配置并更新到`config.json`文件
4. 推送更改到GitHub仓库

## 使用OpenRouter API

项目默认配置使用OpenRouter API：

1. **配置参数**：
   - 默认模型: `deepseek/deepseek-r1:free`
   - API地址: `https://openrouter.ai/api/v1/chat/completions`

2. **请求格式**：
   - 支持标准的OpenAI格式请求
   - 支持流式和非流式响应

3. **自定义配置**：
   - 如需更改模型或其他设置，修改`config.json`文件
   - 使用加密工具重新生成配置

## 目录结构

```
.
├── css/                # 样式文件
│   ├── styles.css      # 主样式
│   ├── thinkMode.css   # 思考模式样式
│   └── message.css     # 消息样式
├── js/                 # JavaScript脚本
│   ├── api.js          # API接口
│   ├── auth.js         # 认证逻辑
│   ├── script.js       # 主交互逻辑
│   └── thinkMode.js    # 思考模式逻辑
├── tool/               # 工具
│   └── apikey_encrypt.html # API密钥加密工具
├── images/             # 图片资源（如有）
├── .github/            # GitHub Actions配置
├── index.html          # 主页
├── config.json         # 配置文件
├── users.json          # 用户数据
└── README.md           # 项目说明
```

## 自动代码推送

本仓库配置了两种自动推送代码的方式：

1. **GitHub Actions 自动推送**
   - 配置文件: `.github/workflows/auto-push.yml`
   - 每6小时自动检查并提交更改
   - 可以在GitHub Actions页面手动触发

2. **本地脚本推送**
   - 脚本文件: `push-to-github.ps1`
   - 在PowerShell中运行脚本即可推送更改:
     ```powershell
     .\push-to-github.ps1
     ```

## 项目理念

Origin，革新世界的原点。我们相信AI技术可以成为人类思维的延伸，帮助人们突破认知边界，探索更广阔的可能性。通过精心设计的交互界面和思考模式，Origin致力于提供一个更直观、更高效的人机协作体验。

## 许可证

MIT 
